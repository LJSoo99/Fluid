# 2D 유체 시뮬레이션 (JGL2 기반)
이 프로젝트는 **JGL2** 라이브러리를 사용하여 C++로 구현된 **2D 유체 시뮬레이션**입니다.  
유체의 **확산(Diffusion)**, **이동(Advection)**, **질량 보존(Mass Conservation)** 등의 물리적 현상을 실시간으로 시뮬레이션하며,  
사용자가 상호작용을 통해 유체의 특성을 수정할 수 있도록 설계되었습니다.

## 주요 기능

- **유체 동역학 시뮬레이션**:
  - 유체의 이동(Advection)
  - 밀도의 확산(Diffusion)
  - 질량 보존(Mass Conservation)을 통해 균형 유지
- **실시간 상호작용**:
  - 마우스를 통해 밀도 및 속도 필드 수정 가능
  - 키보드를 통한 초기화 기능
- **시각화**:
  - 실시간으로 유체 그리드 렌더링

## 설치 방법

### 사전 준비물

- C++17 이상
- [Eigen](https://eigen.tuxfamily.org/) 라이브러리
- [JGL2](https://github.com/) 라이브러리

### 빌드 방법

1. 저장소를 클론합니다:
   ```bash
   git clone https://github.com/yourusername/2d-fluid-simulation.git
   cd 2d-fluid-simulation
   ```

2. 필요한 라이브러리(Eigen, JGL2)가 프로젝트에 포함되었는지 확인합니다.

3. C++ 컴파일러로 코드를 컴파일합니다:
   ```bash
   g++ -std=c++17 Fluid.cpp -o fluid_simulation -I/path/to/JGL2 -I/path/to/Eigen
   ```

4. 실행 파일을 실행합니다:
   ```bash
   ./fluid_simulation
   ```


## 사용 방법

### 키보드 입력

- **`0`**: 시뮬레이션 초기화

### 마우스 동작

- **마우스 클릭 및 드래그**: 커서 위치에서 밀도를 추가합니다.
- **SHIFT 키 + 이동**: 커서 움직임에 따라 속도 벡터를 수정합니다.


## 코드 구조

- **`Fluid.cpp`**: 프로젝트의 주요 코드가 포함된 파일
  - 유체 물리 계산(확산, 이동, 질량 보존)
  - 사용자 입력 처리(마우스 및 키보드 이벤트)
  - JGL2 라이브러리를 사용한 렌더링 로직


## 시뮬레이션 세부 사항

### 물리적 구현

1. **Advection (이동)**:
   - 유체의 속도 필드를 따라 물리적 특성을 이동시킵니다.

2. **Diffusion (확산)**:
   - 시간이 지남에 따라 유체 밀도가 퍼지는 현상을 모델링합니다.

3. **Mass Conservation (질량 보존)**:
   - 압력 필드를 통해 유체의 불압축성을 보장합니다.

### 그리드 크기

- 기본적으로 **256x256 그리드**에서 작동합니다.
- `GRID_W`와 `GRID_H` 상수를 수정하여 변경할 수 있습니다.


## 의존성

- **JGL2**: 렌더링 및 UI 처리를 위해 사용
- **Eigen**: 수학적 연산 및 벡터 계산을 위해 사용


## 스크린샷

### 사용자 상호작용 예제
![44](https://github.com/user-attachments/assets/d3975f65-e9e6-4ea3-a441-b3cb99824cc1)


## 개선할 점

- 유체 시각화를 위한 색상 매핑 추가
- 멀티스레딩 또는 GPU 가속을 활용한 성능 최적화
- 고해상도 지원을 위한 그리드 크기 확장


## 기여하기

이 프로젝트를 개선하고 싶다면 **Pull Request**를 제출하거나 **Issue**를 열어주세요.  
모든 기여는 환영합니다!
